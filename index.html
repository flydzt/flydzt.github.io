<!DOCTYPE html>
<html lang="en"><head>
    <title> flydzt | FLYDZT </title>
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.79.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" content="解决一类问题而不是一个问题">
    <link rel="stylesheet" href="https://flydzt.github.io/css/style.css" type="text/css">
    
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <base href="https://flydzt.github.io">
    
    <link rel="shortcut icon" href="https://flydzt.github.io/images/hhh.jpgfavicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="https://flydzt.github.io/images/hhh.jpgapple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://flydzt.github.io/images/hhh.jpgfavicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://flydzt.github.io/images/hhh.jpgfavicon-16x16.png">

    <link rel="canonical" href="https://flydzt.github.io/">
</head><body><div class="sidebar animated fadeInDown">
    <div class="logo-title">
      <div class="title">
        <img src="https://flydzt.github.io/images/hhh.jpg" alt="profile picture" style="width:127px;border-radius: 50%;">
        <h3 title=""><a href="/">FLYDZT</a></h3>
        <div class="description">
          <p>解决一类问题而不是一个问题</p>
        </div>
      </div>
    </div>
    <ul class="social-links">
        
        <a href="https://github.com/flydzt" rel="me" >
          <i class="fa fa-github" aria-hidden="true" title="GitHub"></i>
        </a>
        
    </ul>
    <div class="footer">
        <div class="by_farbox">&copy; flydzt 2020 </div>
      </div>
    </div>
</div><div class="main">
            <div class="page-top animated fadeInDown">
    <div class="nav">
        
        
        <li><a  href="/post/" title="">Posts</a></li>

        
        <li><a  href="/about/" title="">About</a></li>

        
    </div>
</div>
            <div class="autopagerize_page_element">
                <div class="content">

<div class="about animated fadeInDown">
    
        
        <div>
            <h3><a href="/post/%E5%85%B3%E4%BA%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84acid%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/">关于数据库的acid的一些思考</a></h3>
            ACID ACID是为了保证事务正确可靠而提出的,和分布式的CAP理论中的CA还是有差别的。
&ldquo;A&quot;表示原子性(Atomicity),一个事务应当完全执行或者完全不执行。
&ldquo;C&quot;表示一致性(Consistency),这个一致性是业务上的一致性,数据库保证AID,那么业务就可以实现C。数据库提供了一些手段让业务更方便地实现C。
&ldquo;I&quot;表示隔离性(Isolation),事务之间是隔离的,一个事务执行的时候,对它来说仿佛没有别的事务在执行。
          </div>
          
          
          <div>
            <a href="/post/%E5%85%B3%E4%BA%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84acid%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/">阅读更多</a>
          </div>
          
        
    
        
        <div>
            <h3><a href="/post/redis%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7%E7%9A%84%E6%80%9D%E8%80%83/">Redis的数据一致性的思考</a></h3>
            背景 面试被问到了redis的数据一致性，一是redis和数据库的一致性，二是多机房redis集群的一致性。
一致性在分布式系统中是一个很常见的问题，通常会牵扯到cap理论，根据业务场景去具体分析。redis的一致性，更多是针对业务数据而言，这份数据是业务的真实数据。redis需要做到最终和它的数据一致。它可以是db，也可以是文件，可以是另一个redis。
我所做的业务是广告，投放端是请求量比较少的场景，没有使用redis作为缓存，而是直接读写表。做了频控限制。
播放端则是一个量很大，但是都是读的场景，没有写。redis会作为广告的缓存，在投放端进行广告增删改后，会增量地修改redis里的数据。为保证一致，也会有定期的全量覆盖。例如我重启了投放端，投放端此时刚好写入了db但没有更新redis，那么需要全量的机制来保证一致。
          </div>
          
          
          <div>
            <a href="/post/redis%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7%E7%9A%84%E6%80%9D%E8%80%83/">阅读更多</a>
          </div>
          
        
    
        
        <div>
            <h3><a href="/post/orange%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E6%9C%80%E5%B0%8F%E7%9A%84%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">Orange读书笔记-引导程序</a></h3>
            最小的操作系统 这里并没有实现一个操作系统,只是实现了一个引导扇区.
我们知道,当计算机电源被打开时,它会先进行加电自检（POST）,然后寻找启动盘,如果是选择从软盘启动,计算机就会检查软盘的0面0磁道1扇区,如果发现它以0xAA55(9)结束,则BIOS认为它是一个引导扇区,当然,一个正确的引导扇区除了以0xAA55结束之外,还应该包含一段少于512字节的执行码,一旦BIOS发现了引导扇区,就会将这512字节的内容装载到内存地址0000:7c00处,然后跳转到0000:7c00处将控制权彻底交给这段引导代码.
环境 archlinux
          </div>
          
          
          <div>
            <a href="/post/orange%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E6%9C%80%E5%B0%8F%E7%9A%84%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">阅读更多</a>
          </div>
          
        
    
        
        <div>
            <h3><a href="/post/%E8%AE%B0%E4%B8%80%E6%AC%A1redis%E5%85%A8%E5%B1%80%E9%94%81%E7%9A%84%E9%97%AE%E9%A2%98/">记一次redis全局锁的问题</a></h3>
            背景 在一个刷新数据的任务里,防止多个节点同时开始任务浪费资源,使用redis作为全局锁.
多个节点使用set nx lock来获取锁,没有获取到将退出,等待下一次调度.任务结束后将锁del.
          </div>
          
          
          <div>
            <a href="/post/%E8%AE%B0%E4%B8%80%E6%AC%A1redis%E5%85%A8%E5%B1%80%E9%94%81%E7%9A%84%E9%97%AE%E9%A2%98/">阅读更多</a>
          </div>
          
        
    
        
        <div>
            <h3><a href="/post/dubbo%E7%9A%84%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E4%BC%98%E5%85%88%E7%BA%A7/">dubbo的配置优先级</a></h3>
            dubbo的配置优先级 dubbo的配置可以由jvm启动参数-D来配置,也可以通过xml来配置,也可以通过dubbo.properties配置文件来配置.优先级依次从高到低.
配置加载流程
如何覆盖 通常我们需要配置application/registry/service/reference等.
          </div>
          
          
          <div>
            <a href="/post/dubbo%E7%9A%84%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E4%BC%98%E5%85%88%E7%BA%A7/">阅读更多</a>
          </div>
          
        
    
        
        <div>
            <h3><a href="/post/jvm%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">jvm线程模型的一些基础知识</a></h3>
            进程和线程 进程是资源的集合,线程是执行的实体.
进程由fork系统调用创建,形成层次结构,通常新建进程马上会执行新的命令,所以有copy-on-write的优化.
线程则由pthread_create创建,共享进程内的资源.程序计数器和栈是独立的.程序计数器表明当前执行到哪里,栈则是执行的历史.
用户线程和内核线程 操作系统的线程概念可以实现在用户空间或者内核空间,也可以是混合的.
          </div>
          
          
          <div>
            <a href="/post/jvm%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">阅读更多</a>
          </div>
          
        
    
        
    
        
        <div>
            <h3><a href="/post/aqs%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/">aqs基本原理(代码注释)</a></h3>
            基本思路 通过cas去获取主动权,失败就去排队.持有锁的解锁后唤醒下一个, 被唤醒后的线程看看自己是不是排到了第一.
值得注意的是,排队时候是可以取消的.从队列中删除某个节点,不能出现死循环,指向错误的问题.
由于支持节点的取消:
          </div>
          
          
          <div>
            <a href="/post/aqs%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/">阅读更多</a>
          </div>
          
        
    
        
        <div>
            <h3><a href="/post/%E8%AE%B0%E4%B8%80%E6%AC%A1mysql%E8%87%AA%E5%A2%9E%E4%B8%BB%E9%94%AE%E7%94%A8%E5%AE%8C/">记一次mysql自增主键用完</a></h3>
            场景 海外业务接入了多家网盟,网盟会定期push广告过来,供我们去播放.
现象 日志报错,大量的主键重复错误.且id为int的最大值.
分析 业务设计时,没有考虑网盟会推送巨量的广告过来,当初刚上线,每次推送只有两位数的广告,主键只用了int.
          </div>
          
          
          <div>
            <a href="/post/%E8%AE%B0%E4%B8%80%E6%AC%A1mysql%E8%87%AA%E5%A2%9E%E4%B8%BB%E9%94%AE%E7%94%A8%E5%AE%8C/">阅读更多</a>
          </div>
          
        
    
        
        <div>
            <h3><a href="/post/juc%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">juc的一些基础知识</a></h3>
            java.util.concurrent java 1.5提供了juc包,实现了常用的工具类.包括线程池,异步IO,轻量级任务框架等.
volatile volatile关键字保证各线程间对于同一个变量,总是能看到最新值.是一种稍弱的同步机制.对于volatile变量,编译器和运行时不会进行重排序,并且不会被缓存在寄存器或者对其他处理器不可见的地方.
          </div>
          
          
          <div>
            <a href="/post/juc%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">阅读更多</a>
          </div>
          
        
    
</div>


                </div>
            </div>
        </div>
</body>
<script type="text/javascript" src="https://flydzt.github.io/js/jquery.min.js"></script>
<script type="text/javascript" src="https://flydzt.github.io/js/jquery-migrate.min.js"></script>
<script type="text/javascript" src="https://flydzt.github.io/js/jquery-appear.min.js"></script></html></body>

</html>
